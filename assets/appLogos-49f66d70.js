import{a as g,o as m,c as n,T as h,d as s,F as d,N as A,j as S,E as f,I as w,n as F}from"./index-52d7a35b.js";import{N as l}from"./assistantAppsApiService-e5e6b9f4.js";import{g as x}from"./manageAppService-96566b5b.js";import{D as p}from"./manageResourceBasePage-d43a239f.js";import{A as T}from"./image-ebeb0859.js";const v=e=>{const[o,u]=g(e.langsFromApi??[]),[i,r]=g(e.langsFromApi!=null?l.Success:l.Loading);m(()=>{e.langsFromApi!=null&&e.langsFromApi.length>0||a()});const a=async()=>{const t=await x().readAllCached();t.isSuccess==!1&&r(l.Error),u(t.value),r(l.Success)};return[n(s,{get when(){return i()==l.Error},get children(){return n(h,{children:"Something went wrong"})}}),n(s,{get when(){return i()==l.Loading||i()==l.Pending},get children(){return n(p,{get title(){return e.multiple==!0?"Selected apps":"Selected app"},get placeholder(){return n(d,{justifyContent:"center",get children(){return n(A,{})}})},options:[]})}}),n(s,{get when(){return i()==l.Success},get children(){return n(p,{get title(){return e.multiple==!0?"Selected apps":"Selected app"},get multiple(){return e.multiple},get onSelect(){return e.onChange},get placeholder(){return e.placeholder},get selectedValues(){return e.value},get options(){return o().map(t=>({title:t.name,value:t.guid,image:t.iconUrl}))}})}})]},L=e=>{const o=(r,a)=>{const t=[];for(const c of a)r.includes(c.guid)&&t.push(c.guid);return t},u=r=>{const a=e.appsFromApi.find(t=>t.guid==r);return a==null?T.fallbackImg:a.iconUrl},i=r=>{const a=e.appsFromApi.find(t=>t.guid==r);return a==null?"Unknown":a.name};return n(F,{get minWidth(){return e.minWidth},get maxWidth(){return e.maxWidth},get children(){return n(d,{gap:"0.5em",flexWrap:"wrap",get children(){return n(S,{get each(){return o(e.selectedApps,e.appsFromApi)},children:(r,a)=>n(f,{get label(){return i(r)},get children(){return n(w,{get src(){return u(r)},class:"logo-sm",get margin(){return e.margin}})}})})}})}})};export{v as A,L as T};
