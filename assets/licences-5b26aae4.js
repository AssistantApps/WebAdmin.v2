import{S as h,C as A,c as r,n as d,T as o,g,d as v}from"./index-52d7a35b.js";import{F as b}from"./fetchWrap-e0829ace.js";import{T as f,A as S}from"./appLogos-49f66d70.js";import{F as _,c as I}from"./commonMapping-6ea454ee.js";import{M,G as n,b as l}from"./manageResourceBasePage-d43a239f.js";import{F as p}from"./input-ba324187.js";import{a as y}from"./assistantAppsApiService-e5e6b9f4.js";import"./manageAppService-96566b5b.js";import"./image-ebeb0859.js";import"./popupHelper-3905111e.js";var L=Object.defineProperty,w=Object.getOwnPropertyDescriptor,x=(t,e,c,i)=>{for(var a=i>1?void 0:i?w(e,c):e,m=t.length-1,s;m>=0;m--)(s=t[m])&&(a=(i?s(e,c,a):s(a))||a);return i&&a&&L(e,c,a),a};let u=class{_controller;constructor(){this._controller=()=>y().getAuthedApi().licence}create(t){const e={guid:t.guid,appGuid:t.appGuid,name:t.name};return this._controller().create(e)}read(t){throw new Error("ManageLicenceService: Method not implemented.")}readAll(t){return this._controller().readAll()}update(t){throw new Error("ManageLicenceService: Method not implemented.")}del(t){return this._controller().del(t.guid)}};u=x([h()],u);const R=()=>A.get(u),j=()=>r(b,{fetchApps:!0,render:t=>r(M,{title:"Manage Licences",itemName:"Licence",disableGetByIdOption:!0,get crudService(){return R()},tableHeadItems:[{title:"Licence Key"},{title:"App"},{title:"Name"},{title:"Is Active",maxWidth:"75px",textAlign:"center"},{title:"Date Created"},{title:"Date Redeemed"}],tableRowRender:e=>[r(d,{get children(){return r(o,{get children(){return e.guid}})}}),r(f,{maxWidth:"75px",get selectedApps(){return[e.appGuid]},appsFromApi:t}),r(d,{get children(){return r(o,{get children(){return e.name}})}}),r(d,{textAlign:"center",get children(){return e.isActive?"✔":"❌"}}),r(d,{margin:"0 auto",textAlign:"center",get children(){return g(e.dateCreated)}}),r(d,{margin:"0 auto",textAlign:"center",get children(){return r(v,{get when(){return e.dateRedeemed!=null},get fallback(){return r(o,{children:"Not redeemed"})},get children(){return r(o,{get children(){return g(e.dateRedeemed)}})}})}})],get propToFormMappings(){return[{component:p,gridItemSize:n.medium,property:"guid",label:"Licence Key",hiddenIn:[l.Add],placeholder:"Licence Key",additional:[{prop:"disabled",value:e=>!0}]},{component:S,gridItemSize:n.medium,property:"appGuid",label:"App",placeholder:"Select an app",additional:[{prop:"multiple",value:e=>!1}]},{component:p,gridItemSize:n.medium,property:"name",label:"Name",placeholder:"Name"},{component:p,gridItemSize:n.medium,property:"dateCreated",label:"Date Created",hiddenIn:[l.Add],placeholder:"2023-03-22",additional:[{prop:"inputType",value:e=>"datetime-local"},{prop:"disabled",value:e=>!0}]},{component:p,gridItemSize:n.medium,property:"dateRedeemed",label:"Date Redeemed",hiddenIn:[l.Add],placeholder:"Not redeemed",additional:[{prop:"inputType",value:e=>"datetime-local"},{prop:"disabled",value:e=>!0}]},{component:_,gridItemSize:n.xsmol,property:"isActive",label:"Is Active",hiddenIn:[l.Add]},I]}})});export{j as ManageLicencesPage,j as default};
