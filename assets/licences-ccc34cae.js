import{S as v,C as f,c as r,n as d,T as o,g as A,d as S}from"./index-f510d5fe.js";import{F as b}from"./fetchWrap-ba5abbe8.js";import{T as I,A as M}from"./appLogos-2305e75e.js";import{F as y,c as x}from"./commonMapping-65ab7c6b.js";import{M as L,G as n,a as p}from"./manageResourceBasePage-3f5e6431.js";import{F as l}from"./input-a450fe9e.js";import{B as _,g as w,A as u,a as g}from"./baseCrudService-0459d68b.js";import"./manageAppService-2c559507.js";import"./image-ebeb0859.js";import"./popupHelper-b4c84ba8.js";var C=Object.defineProperty,R=Object.getOwnPropertyDescriptor,T=(t,e,c,i)=>{for(var a=i>1?void 0:i?R(e,c):e,s=t.length-1,m;s>=0;s--)(m=t[s])&&(a=(i?m(e,c,a):m(a))||a);return i&&a&&C(e,c,a),a};let h=class extends _{constructor(){const t=w();super(t.getAssistantAppsUrl())}create(t){const e={guid:t.guid,appGuid:t.appGuid,name:t.name};return this.post(u.licence,e,g)}read(t){throw new Error("ManageLicenceService: Method not implemented.")}readAll(t){return this.get(u.licence,g)}update(t){throw new Error("ManageLicenceService: Method not implemented.")}del(t){const e=`${u.licence}/${t.guid}`;return this.delete(e,g)}};h=T([v()],h);const D=()=>f.get(h),H=()=>r(b,{fetchApps:!0,render:t=>r(L,{title:"Manage Licences",itemName:"Licence",disableGetByIdOption:!0,get crudService(){return D()},tableHeadItems:[{title:"Licence Key"},{title:"App"},{title:"Name"},{title:"Is Active",maxWidth:"75px",textAlign:"center"},{title:"Date Created"},{title:"Date Redeemed"}],tableRowRender:e=>[r(d,{get children(){return r(o,{get children(){return e.guid}})}}),r(I,{maxWidth:"75px",get selectedApps(){return[e.appGuid]},appsFromApi:t}),r(d,{get children(){return r(o,{get children(){return e.name}})}}),r(d,{textAlign:"center",get children(){return e.isActive?"✔":"❌"}}),r(d,{margin:"0 auto",textAlign:"center",get children(){return A(e.dateCreated)}}),r(d,{margin:"0 auto",textAlign:"center",get children(){return r(S,{get when(){return e.dateRedeemed!=null},get fallback(){return r(o,{children:"Not redeemed"})},get children(){return r(o,{get children(){return A(e.dateRedeemed)}})}})}})],get propToFormMappings(){return[{component:l,gridItemSize:n.medium,property:"guid",label:"Licence Key",hiddenIn:[p.Add],placeholder:"Licence Key",additional:[{prop:"disabled",value:e=>!0}]},{component:M,gridItemSize:n.medium,property:"appGuid",label:"App",placeholder:"Select an app",additional:[{prop:"multiple",value:e=>!1}]},{component:l,gridItemSize:n.medium,property:"name",label:"Name",placeholder:"Name"},{component:l,gridItemSize:n.medium,property:"dateCreated",label:"Date Created",hiddenIn:[p.Add],placeholder:"2023-03-22",additional:[{prop:"inputType",value:e=>"datetime-local"},{prop:"disabled",value:e=>!0}]},{component:l,gridItemSize:n.medium,property:"dateRedeemed",label:"Date Redeemed",hiddenIn:[p.Add],placeholder:"Not redeemed",additional:[{prop:"inputType",value:e=>"datetime-local"},{prop:"disabled",value:e=>!0}]},{component:y,gridItemSize:n.xsmol,property:"isActive",label:"Is Active",hiddenIn:[p.Add]},x]}})});export{H as ManageLicencesPage,H as default};
