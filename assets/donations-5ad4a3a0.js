import{c as r,l as p,S as g,C as h,p as S,n as a,g as y}from"./index-fca7416d.js";import{B as f}from"./link-0062e573.js";import{g as D}from"./enumHelper-aebeeebb.js";import{c as d,l as A}from"./stringHelper-1c926dc7.js";import{D as b,G as i,M as v}from"./manageResourceBasePage-f12a46ec.js";import{i as _,c as I}from"./commonMapping-c1f64875.js";import{F as l}from"./input-8bbde56e.js";import{a as M}from"./assistantAppsApiService-0f362fab.js";import"./popupHelper-6ee52699.js";const z=e=>{const n=t=>{if(!Array.isArray(t))return isNaN(t)?[p.DonationType[A(t??"")]?.toString?.()??""]:[t?.toString?.()]};return r(b,{title:"Source",get selectedValues(){return n(e.value)},multiple:!1,get placeholder(){return e.placeholder},onSelect:t=>{if(e.onChange==null||Array.isArray(t))return;const o=p.DonationType[t]?.toString?.()??"",c=d(o);e.onChange(c)},get options(){return D(p.DonationType).map(t=>({title:d(p.DonationType[t]),value:t.toString()}))}})};var T=Object.defineProperty,F=Object.getOwnPropertyDescriptor,P=(e,n,u,t)=>{for(var o=t>1?void 0:t?F(n,u):n,c=e.length-1,s;c>=0;c--)(s=e[c])&&(o=(t?s(n,u,o):s(o))||o);return t&&o&&T(n,u,o),o};let m=class{_controller;constructor(){this._controller=()=>M().getAuthedApi().donation}create(e){return this._controller().create(e)}read(e){throw new Error("ManageDonationService: Method not implemented.")}readAll(e){return this._controller().readAllForAdmin(e)}update(e){return this._controller().update(e)}del(e){return this._controller().del(e.guid)}};m=P([g()],m);const w=()=>h.get(m),R=()=>r(v,{title:"Manage Donations",itemName:"Donation",serverPagination:!0,unknownPagination:!0,disableGetByIdOption:!0,get crudService(){return w()},get defaultItem(){return{date:S(new Date),sortOrder:0,isHidden:!1}},pageSizeOptions:[10],searchTooltip:"Searches: username & email",searchFunc:(e,n)=>e.username.includes(n)||e.email.includes(n),tableHeadItems:[{title:"Username"},{title:"Email"},{title:"Type"},{title:"Amount"},{title:"Currency"},{title:"Actual amount"},{title:"Is Visible"},{title:"Date"}],tableRowRender:e=>[r(a,{get children(){return e.username}}),r(a,{get children(){return r(f,{get href(){return`mailto:${e.email}`},get children(){return e.email}})}}),r(a,{get children(){return e.type}}),r(a,{get children(){return e.amount}}),r(a,{get children(){return e.currency}}),r(a,{get children(){return e.actualAmount}}),r(a,{get children(){return e.isHidden?"❌":"✔"}}),r(a,{get children(){return y(e.date)}})],get propToFormMappings(){return[{component:l,gridItemSize:i.medium,property:"username",label:"Username",placeholder:"John Smith"},{component:l,gridItemSize:i.medium,property:"email",label:"Email",placeholder:"john@smith.com"},{component:z,gridItemSize:i.medium,property:"type",label:"Source",placeholder:"Please select a donation type"},{component:l,gridItemSize:i.medium,property:"amount",label:"Amount",placeholder:"5",additional:[{prop:"inputType",value:e=>"number"}]},{component:l,gridItemSize:i.smol,property:"currency",label:"Currency",placeholder:"USD"},{component:l,gridItemSize:i.medium,property:"actualAmount",label:"Actual Amount",placeholder:"5",additional:[{prop:"inputType",value:e=>"number"}]},_,I,{component:l,gridItemSize:i.medium,property:"date",label:"Date",placeholder:"2023-03-22",additional:[{prop:"inputType",value:e=>"datetime-local"}]}]}});export{R as ManageDonationsPage,R as default};
