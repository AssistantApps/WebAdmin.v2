import{B as u,g as l,A as a,a as p}from"./baseCrudService-e05c90f3.js";import{S as d,C as A,m as g,a7 as h}from"./index-2dc07de3.js";var v=Object.defineProperty,f=Object.getOwnPropertyDescriptor,_=(e,s,i,r)=>{for(var t=r>1?void 0:r?f(s,i):s,n=e.length-1,c;n>=0;n--)(c=e[n])&&(t=(r?c(s,i,t):c(t))||t);return r&&t&&v(s,i,t),t};let o=class extends u{_getAppsCache;constructor(){const e=l();super(e.getAssistantAppsUrl())}create(e){return this.post(a.app,e,p)}read(e){throw new Error("AppManageService: Method not implemented.")}async readAll(e){const s=await this.get(`${a.app}/Admin`,p);return s.isSuccess&&(this._getAppsCache={expiredAfter:g(new Date,1e3),value:s.value}),s}async readAllCached(e){return this._getAppsCache!=null&&h(new Date,this._getAppsCache.expiredAfter)?{isSuccess:!0,value:this._getAppsCache.value,errorMessage:""}:await this.readAll(e)}update(e){return this.put(a.app,e,p)}del(e){const s=`${a.app}/${e.guid}`;return this.delete(s,p)}};o=_([d()],o);const m=()=>A.get(o);export{m as g};
