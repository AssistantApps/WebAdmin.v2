import{a as p,o as h,c as r,T as u,d as g,L as w,S,C as A,n as c,g as v,l as R}from"./index-392fdfc0.js";import{g as f,F as M}from"./fetchWrap-265e1c35.js";import{N as i,a as T}from"./assistantAppsApiService-e8197d8a.js";import{M as b,c as C}from"./manageResourceBasePage-5440828b.js";import{c as _}from"./stringHelper-1c926dc7.js";import"./manageAppService-f72b85f5.js";import"./popupHelper-e12ce487.js";const F=t=>{const[n,s]=p(t.langsFromApi??[]),[e,a]=p(t.langsFromApi!=null?i.Success:i.Loading);h(()=>{t.langsFromApi!=null&&t.langsFromApi.length>0||l()});const l=async()=>{const o=await f().readAllCached();o.isSuccess==!1&&a(i.Error),s(o.value),a(i.Success)};return[r(g,{get when(){return e()==i.Error},get children(){return r(u,{children:"Something went wrong"})}}),r(g,{get when(){return e()==i.Loading||e()==i.Pending},get children(){return r(w,{})}}),r(g,{get when(){return e()==i.Success},get children(){return r(u,{get children(){return(n()??[]).find(o=>o.guid==t.languageGuid)?.name??"unknown"}})}})]};var L=Object.defineProperty,x=Object.getOwnPropertyDescriptor,y=(t,n,s,e)=>{for(var a=e>1?void 0:e?x(n,s):n,l=t.length-1,o;l>=0;l--)(o=t[l])&&(a=(e?o(n,s,a):o(a))||a);return e&&a&&L(n,s,a),a};let m=class{_controller;constructor(){this._controller=()=>T().getAuthedApi().translationReport}async create(t){throw new Error("ManageTranslationReportService: Method not implemented.")}read(t){throw new Error("ManageTranslationReportService: Method not implemented.")}async readAll(t){return this._controller().readAll()}update(t){throw new Error("ManageTranslationReportService: Method not implemented.")}del(t){throw new Error("ManageTranslationReportService: Method not implemented.")}markAsResolved(t){return this._controller().resolve(t)}markAsClosed(t){return this._controller().close(t)}};m=y([S()],m);const d=()=>A.get(m),N=()=>r(M,{fetchApps:!0,fetchLanguages:!0,render:(t,n,s)=>r(b,{title:"Manage TranslationReports",itemName:"Translation Report",disableEditAction:!0,disableDeleteAction:!0,disableGetByIdOption:!0,get crudService(){return d()},tableHeadItems:[{title:"Language"},{title:"Date submitted",maxWidth:"75px",textAlign:"center"},{title:"Reason"},{title:"Status"}],tableRowRender:e=>[r(c,{get children(){return r(F,{get languageGuid(){return e.languageGuid},langsFromApi:n})}}),r(c,{maxWidth:"75px",margin:"0 auto",textAlign:"center",get children(){return v(e.dateSubmitted)}}),r(c,{get children(){return r(u,{class:"clamp-to-2-lines",get children(){return e.reason}})}}),r(c,{get children(){return _(R.TranslationReportStatus[e.status])}})],actionsPerRow:[{emoji:"📝",label:"Copy Translation Guid",order:3,onClick:e=>C(e.translationGuid)},{emoji:"❌",label:"Mark as closed (do nothing)",order:8,onClick:e=>d().markAsClosed(e.guid)},{emoji:"🗑️",label:"Resolve automatically (delete with all votes)",order:9,onClick:e=>d().markAsResolved(e.guid)}],propToFormMappings:[]})});export{N as ManageTranslationReportsPage,N as default};
